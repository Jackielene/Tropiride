import{r as l,d as q,j as u,R as M}from"./app-D2KhOlPS.js";import{c as P,u as A}from"./index-6XFs-mRv.js";import{P as b}from"./index-D5JU00dO.js";import{c as y}from"./button-DRgzOgcv.js";function $(e){const r=l.useRef(e);return l.useEffect(()=>{r.current=e}),l.useMemo(()=>(...n)=>r.current?.(...n),[])}var x={exports:{}},E={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j;function D(){if(j)return E;j=1;var e=q();function r(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var n=typeof Object.is=="function"?Object.is:r,s=e.useState,i=e.useEffect,t=e.useLayoutEffect,v=e.useDebugValue;function c(a,o){var p=o(),S=s({inst:{value:p,getSnapshot:o}}),f=S[0].inst,g=S[1];return t(function(){f.value=p,f.getSnapshot=o,d(f)&&g({inst:f})},[a,p,o]),i(function(){return d(f)&&g({inst:f}),a(function(){d(f)&&g({inst:f})})},[a]),v(p),p}function d(a){var o=a.getSnapshot;a=a.value;try{var p=o();return!n(a,p)}catch{return!0}}function m(a,o){return o()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:c;return E.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,E}var w;function T(){return w||(w=1,x.exports=D()),x.exports}var z=T();function B(){return z.useSyncExternalStore(U,()=>!0,()=>!1)}function U(){return()=>{}}var L="Avatar",[V,Z]=P(L),[G,C]=V(L),I=l.forwardRef((e,r)=>{const{__scopeAvatar:n,...s}=e,[i,t]=l.useState("idle");return u.jsx(G,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:t,children:u.jsx(b.span,{...s,ref:r})})});I.displayName=L;var N="AvatarImage",k=l.forwardRef((e,r)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:i=()=>{},...t}=e,v=C(N,n),c=H(s,t),d=$(m=>{i(m),v.onImageLoadingStatusChange(m)});return A(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?u.jsx(b.img,{...t,ref:r,src:s}):null});k.displayName=N;var _="AvatarFallback",F=l.forwardRef((e,r)=>{const{__scopeAvatar:n,delayMs:s,...i}=e,t=C(_,n),[v,c]=l.useState(s===void 0);return l.useEffect(()=>{if(s!==void 0){const d=window.setTimeout(()=>c(!0),s);return()=>window.clearTimeout(d)}},[s]),v&&t.imageLoadingStatus!=="loaded"?u.jsx(b.span,{...i,ref:r}):null});F.displayName=_;function R(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function H(e,{referrerPolicy:r,crossOrigin:n}){const s=B(),i=l.useRef(null),t=s?(i.current||(i.current=new window.Image),i.current):null,[v,c]=l.useState(()=>R(t,e));return A(()=>{c(R(t,e))},[t,e]),A(()=>{const d=a=>()=>{c(a)};if(!t)return;const m=d("loaded"),h=d("error");return t.addEventListener("load",m),t.addEventListener("error",h),r&&(t.referrerPolicy=r),typeof n=="string"&&(t.crossOrigin=n),()=>{t.removeEventListener("load",m),t.removeEventListener("error",h)}},[t,n,r]),v}var K=I,O=k,W=F;function ee({className:e,...r}){return u.jsx(K,{"data-slot":"avatar",className:y("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...r})}function re({className:e,...r}){return u.jsx(O,{"data-slot":"avatar-image",className:y("aspect-square size-full",e),...r})}function te({className:e,...r}){return u.jsx(W,{"data-slot":"avatar-fallback",className:y("bg-muted flex size-full items-center justify-center rounded-full",e),...r})}class ae extends M.Component{constructor(r){super(r),this.state={hasError:!1}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("ErrorBoundary caught an error:",r,n)}resetError=()=>{this.setState({hasError:!1,error:void 0})};render(){if(this.state.hasError){if(this.props.fallback){const r=this.props.fallback;return u.jsx(r,{error:this.state.error,resetError:this.resetError})}return u.jsx("div",{className:"flex items-center justify-center p-4 bg-red-50 border border-red-200 rounded-lg",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Something went wrong"}),u.jsx("p",{className:"text-red-600 mb-4",children:this.state.error?.message||"An unexpected error occurred"}),u.jsx("button",{onClick:this.resetError,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Try again"})]})})}return this.props.children}}export{ee as A,ae as E,re as a,te as b,$ as u};
