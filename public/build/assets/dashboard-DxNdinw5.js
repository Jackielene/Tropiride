import{u as O,r as y,j as e,H as X,a as i}from"./app-B0-CstzQ.js";import{A as G}from"./app-layout-Bts94YF8.js";import{C as h,b as C,c as A,d as P,a as g}from"./card-DW5Zv2kh.js";import{B as R}from"./badge-BYLmWXQd.js";import{A as L,a as V,b as B}from"./ErrorBoundary-CZGES4uz.js";import{B as u}from"./button-DcYDPm6B.js";import{C as _}from"./car-ByA-uQs_.js";import{C as I}from"./circle-alert-CILsgJRt.js";import{a as c,C as n,b as Y,P as J}from"./phone-DBaatI4l.js";import{C as E}from"./clock-D3uD0b5V.js";import{c as H}from"./createLucideIcon-BfURptoV.js";import{W as K,M as w}from"./wallet-V4oFUnmG.js";/* empty css            */import"./index-CtUhCSa4.js";import"./index-Bc5FBFYq.js";import"./index-BSXaBTwW.js";import"./index-BzsDVMKG.js";import"./index-2euUHMmF.js";import"./floating-ui.react-dom-mG3i3iet.js";import"./index-XEuD4zLO.js";import"./index-D329iiHL.js";import"./index-CMWG4mbA.js";import"./index-y_DpOFyv.js";import"./app-logo-icon-BNF1Xokd.js";import"./shield-check-BaibEiXh.js";import"./clsx-B-dksMZM.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],z=H("Package",Q);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],ee=H("Upload",Z);function k({title:r,value:f,description:x,icon:a,color:t="default"}){const j={default:"bg-card",blue:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900 border-blue-200 dark:border-blue-800",green:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950 dark:to-green-900 border-green-200 dark:border-green-800",orange:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950 dark:to-orange-900 border-orange-200 dark:border-orange-800",purple:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950 dark:to-purple-900 border-purple-200 dark:border-purple-800"},b={default:"text-muted-foreground",blue:"text-blue-600 dark:text-blue-400",green:"text-green-600 dark:text-green-400",orange:"text-orange-600 dark:text-orange-400",purple:"text-purple-600 dark:text-purple-400"};return e.jsxs(h,{className:`${j[t]} transition-all hover:shadow-lg`,children:[e.jsxs(C,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium text-muted-foreground",children:r}),e.jsx("div",{className:`p-2 rounded-lg bg-background/50 ${t!=="default"&&"shadow-sm"}`,children:e.jsx(a,{className:`h-5 w-5 ${b[t]}`})})]}),e.jsxs(g,{children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:f}),x&&e.jsx("p",{className:"text-xs text-muted-foreground",children:x})]})]})}function se(r){switch(r){case"completed":return"default";case"pending":return"secondary";case"in_progress":return"outline";case"cancelled":return"destructive";default:return"outline"}}function Pe({stats:r,assignedBookings:f=[],availableBookings:x=[],driver:a}){const{flash:t}=O().props,[j,b]=y.useState(null),[S,U]=y.useState(null),[l,p]=y.useState({name:a.name||"",email:a.email||"",phone:a.phone||"",age:a.age||"",address:a.address||""}),[D,F]=y.useState(!1),N=s=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(s),$=s=>s.split(" ").map(d=>d[0]).join("").toUpperCase().slice(0,2),M=s=>{confirm("Are you sure you want to accept this booking?")&&(b(s),i.post(`/driver/bookings/${s}/accept`,{},{preserveScroll:!0,onFinish:()=>b(null)}))},q=(s,d)=>{confirm(`Update booking status to "${d}"?`)&&(U(s),i.patch(`/driver/bookings/${s}/status`,{status:d},{preserveScroll:!0,onFinish:()=>U(null)}))},T=s=>{s.preventDefault(),F(!0),i.patch("/driver/profile",l,{preserveScroll:!0,onSuccess:()=>{console.log("Profile updated successfully")},onError:d=>{console.error("Profile update errors:",d)},onFinish:()=>F(!1)})},o=(s,d)=>{const v=s.target.files?.[0];if(!v)return;const m=new FormData;d==="avatar"?(m.append("avatar",v),i.post("/driver/profile/avatar",m,{preserveScroll:!0})):d==="license_front"?(m.append("license_front",v),i.post("/driver/profile/license-front",m,{preserveScroll:!0})):d==="license_back"&&(m.append("license_back",v),i.post("/driver/profile/license-back",m,{preserveScroll:!0}))},W=()=>{confirm("Resubmit your profile for verification?")&&i.post("/driver/profile/resubmit-verification")};return e.jsxs(G,{children:[e.jsx(X,{title:"Driver Dashboard - Tropiride"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 overflow-x-auto p-4 md:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold tracking-tight bg-gradient-to-r from-primary via-primary/90 to-primary/70 bg-clip-text text-transparent",children:"Driver Dashboard"}),e.jsxs("p",{className:"text-muted-foreground mt-2 flex items-center gap-2",children:[e.jsx(_,{className:"h-4 w-4 text-primary"}),"Welcome back, ",a.name,"!"]})]}),r.availableRides>0&&e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 rounded-lg",children:[e.jsx(I,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-green-900 dark:text-green-100",children:[r.availableRides," Available Rides"]}),e.jsx("p",{className:"text-xs text-green-700 dark:text-green-300",children:"Ready to accept"})]})]})]}),t?.success&&e.jsx("div",{className:"bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 rounded-lg p-4",children:e.jsx("p",{className:"text-green-800 dark:text-green-200",children:t.success})}),t?.error&&e.jsx("div",{className:"bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsx("p",{className:"text-red-800 dark:text-red-200",children:t.error})}),t?.status&&e.jsx("div",{className:"bg-blue-50 dark:bg-blue-950 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:e.jsx("p",{className:"text-blue-800 dark:text-blue-200",children:t.status})}),t?.warning&&e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-950 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:e.jsx("p",{className:"text-yellow-800 dark:text-yellow-200",children:t.warning})}),t?.info&&e.jsx("div",{className:"bg-blue-50 dark:bg-blue-950 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:e.jsx("p",{className:"text-blue-800 dark:text-blue-200",children:t.info})}),!a.is_verified&&e.jsxs(h,{className:`shadow-lg border-2 ${a.is_verification_rejected?"border-red-300 dark:border-red-800":a.is_verification_pending?"border-blue-300 dark:border-blue-800":"border-yellow-300 dark:border-yellow-800"}`,children:[e.jsxs(C,{className:`${a.is_verification_rejected?"bg-red-50 dark:bg-red-950":a.is_verification_pending?"bg-blue-50 dark:bg-blue-950":"bg-yellow-50 dark:bg-yellow-950"}`,children:[e.jsxs(A,{className:"flex items-center gap-3 text-xl",children:[a.is_verification_rejected&&e.jsx(c,{className:"h-6 w-6 text-red-600"}),a.is_verification_pending&&e.jsx(E,{className:"h-6 w-6 text-blue-600"}),!a.has_completed_profile&&e.jsx(I,{className:"h-6 w-6 text-yellow-600"}),a.is_verification_rejected&&"Verification Rejected",a.is_verification_pending&&"Verification Pending",!a.has_completed_profile&&"Complete Your Profile"]}),e.jsxs(P,{children:[a.is_verification_rejected&&"Your verification was rejected. Please review and resubmit.",a.is_verification_pending&&"Your profile is being reviewed by our admin team.",!a.has_completed_profile&&"Complete all required fields to start accepting rides."]})]}),e.jsxs(g,{className:"p-6",children:[a.is_verification_rejected&&a.rejection_reason&&e.jsxs("div",{className:"mb-6 p-4 bg-red-100 dark:bg-red-900 border border-red-300 dark:border-red-700 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-red-900 dark:text-red-100 mb-2",children:"Rejection Reason:"}),e.jsx("p",{className:"text-red-800 dark:text-red-200",children:a.rejection_reason})]}),a.is_verification_pending&&e.jsx("div",{className:"mb-6 p-4 bg-blue-100 dark:bg-blue-900 border border-blue-300 dark:border-blue-700 rounded-lg",children:e.jsx("p",{className:"text-blue-800 dark:text-blue-200",children:"Our admin team will review your documents shortly. You'll be able to accept rides once approved."})}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Required Information:"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[a.name&&a.name.trim()!==""?e.jsx(n,{className:"h-4 w-4 text-green-600"}):e.jsx(c,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:a.name&&a.name.trim()!==""?"text-green-700 dark:text-green-400":"text-gray-600",children:"Full Name"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[a.age!==null&&a.age!==void 0&&a.age>=18?e.jsx(n,{className:"h-4 w-4 text-green-600"}):e.jsx(c,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:a.age!==null&&a.age!==void 0&&a.age>=18?"text-green-700 dark:text-green-400":"text-gray-600",children:"Age (18+)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[a.phone&&a.phone.trim()!==""?e.jsx(n,{className:"h-4 w-4 text-green-600"}):e.jsx(c,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:a.phone&&a.phone.trim()!==""?"text-green-700 dark:text-green-400":"text-gray-600",children:"Phone Number"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[a.address&&a.address.trim()!==""?e.jsx(n,{className:"h-4 w-4 text-green-600"}):e.jsx(c,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:a.address&&a.address.trim()!==""?"text-green-700 dark:text-green-400":"text-gray-600",children:"Address"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[a.avatar&&a.avatar.trim()!==""?e.jsx(n,{className:"h-4 w-4 text-green-600"}):e.jsx(c,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:a.avatar&&a.avatar.trim()!==""?"text-green-700 dark:text-green-400":"text-gray-600",children:"Profile Picture"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[a.driver_license_front&&a.driver_license_front.trim()!==""?e.jsx(n,{className:"h-4 w-4 text-green-600"}):e.jsx(c,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:a.driver_license_front&&a.driver_license_front.trim()!==""?"text-green-700 dark:text-green-400":"text-gray-600",children:"Driver's License (Front)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[a.driver_license_back&&a.driver_license_back.trim()!==""?e.jsx(n,{className:"h-4 w-4 text-green-600"}):e.jsx(c,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:a.driver_license_back&&a.driver_license_back.trim()!==""?"text-green-700 dark:text-green-400":"text-gray-600",children:"Driver's License (Back)"})]})]})]}),e.jsx("div",{children:e.jsxs("form",{onSubmit:T,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Full Name *"}),e.jsx("input",{type:"text",value:l.name,onChange:s=>p({...l,name:s.target.value}),className:"w-full px-3 py-2 border rounded-md",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email *"}),e.jsx("input",{type:"email",value:l.email,onChange:s=>p({...l,email:s.target.value}),className:"w-full px-3 py-2 border rounded-md",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Age *"}),e.jsx("input",{type:"number",min:"18",max:"100",value:l.age,onChange:s=>p({...l,age:s.target.value}),className:"w-full px-3 py-2 border rounded-md",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number *"}),e.jsx("input",{type:"tel",value:l.phone,onChange:s=>p({...l,phone:s.target.value}),className:"w-full px-3 py-2 border rounded-md",required:!0})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Address *"}),e.jsx("input",{type:"text",value:l.address,onChange:s=>p({...l,address:s.target.value}),className:"w-full px-3 py-2 border rounded-md",required:!0})]})]}),e.jsx(u,{type:"submit",disabled:D,children:D?"Saving...":"Save Profile"})]})}),e.jsxs("div",{className:"mt-6 grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Profile Picture *"}),a.avatar_url?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:a.avatar_url,alt:"Avatar",className:"w-full h-32 object-cover rounded-md"}),e.jsxs("label",{className:"absolute bottom-2 right-2 bg-white dark:bg-gray-800 px-3 py-1 rounded shadow cursor-pointer hover:bg-gray-50",children:["Change",e.jsx("input",{type:"file",accept:"image/*",onChange:s=>o(s,"avatar"),className:"hidden"})]})]}):e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-md cursor-pointer hover:bg-accent/50",children:[e.jsx(ee,{className:"h-8 w-8 text-muted-foreground mb-2"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Upload Photo"}),e.jsx("input",{type:"file",accept:"image/*",onChange:s=>o(s,"avatar"),className:"hidden"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"License Front *"}),a.driver_license_front_url?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:a.driver_license_front_url,alt:"License Front",className:"w-full h-32 object-cover rounded-md"}),e.jsxs("label",{className:"absolute bottom-2 right-2 bg-white dark:bg-gray-800 px-3 py-1 rounded shadow cursor-pointer hover:bg-gray-50",children:["Change",e.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:s=>o(s,"license_front"),className:"hidden"})]})]}):e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-md cursor-pointer hover:bg-accent/50",children:[e.jsx(Y,{className:"h-8 w-8 text-muted-foreground mb-2"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Upload Front"}),e.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:s=>o(s,"license_front"),className:"hidden"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"License Back *"}),a.driver_license_back_url?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:a.driver_license_back_url,alt:"License Back",className:"w-full h-32 object-cover rounded-md"}),e.jsxs("label",{className:"absolute bottom-2 right-2 bg-white dark:bg-gray-800 px-3 py-1 rounded shadow cursor-pointer hover:bg-gray-50",children:["Change",e.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:s=>o(s,"license_back"),className:"hidden"})]})]}):e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-md cursor-pointer hover:bg-accent/50",children:[e.jsx(Y,{className:"h-8 w-8 text-muted-foreground mb-2"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Upload Back"}),e.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:s=>o(s,"license_back"),className:"hidden"})]})]})]}),a.is_verification_pending&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900 border border-blue-300 dark:border-blue-700 rounded-lg",children:e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"ðŸ’¡ You can edit your profile while your verification is pending. Any changes will be reviewed by admin."})}),a.is_verification_rejected&&e.jsx("div",{className:"mt-6",children:e.jsx(u,{onClick:W,className:"bg-orange-600 hover:bg-orange-700",disabled:!a.is_profile_ready,children:a.is_profile_ready?"Resubmit for Verification":"Complete Profile First"})})]})]}),a.is_verified&&e.jsx(h,{className:"shadow-lg border-2 border-green-300 dark:border-green-800 bg-green-50 dark:bg-green-950",children:e.jsx(g,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(n,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-green-900 dark:text-green-100 text-lg",children:"âœ… Verified Driver"}),e.jsx("p",{className:"text-green-700 dark:text-green-300",children:"You're approved! You can now accept ride requests."})]})]})})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(k,{title:"Total Rides",value:r.totalRides,description:`${r.completedRides} completed`,icon:_,color:"blue"}),e.jsx(k,{title:"Pending Rides",value:r.pendingRides,description:"Awaiting completion",icon:E,color:"orange"}),e.jsx(k,{title:"Total Earnings",value:N(r.totalEarnings),description:`${N(r.todayEarnings)} today`,icon:K,color:"green"}),e.jsx(k,{title:"Available Rides",value:r.availableRides,description:"Ready to accept",icon:z,color:"purple"})]}),x.length>0&&e.jsxs(h,{className:"shadow-lg",children:[e.jsxs(C,{className:"border-b bg-gradient-to-r from-background to-muted/20",children:[e.jsxs(A,{className:"flex items-center gap-3 text-xl",children:[e.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-lg",children:e.jsx(z,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),"Available Rides"]}),e.jsx(P,{children:"New ride requests ready for you to accept"})]}),e.jsx(g,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-muted/30",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-4 font-semibold text-sm",children:"Customer"}),e.jsx("th",{className:"text-left p-4 font-semibold text-sm",children:"Route"}),e.jsx("th",{className:"text-left p-4 font-semibold text-sm",children:"Vehicle"}),e.jsx("th",{className:"text-left p-4 font-semibold text-sm",children:"Schedule"}),e.jsx("th",{className:"text-left p-4 font-semibold text-sm",children:"Fare"}),e.jsx("th",{className:"text-left p-4 font-semibold text-sm",children:"Action"})]})}),e.jsx("tbody",{children:x.map(s=>e.jsxs("tr",{className:"border-b hover:bg-accent/50 transition-colors",children:[e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(L,{className:"h-10 w-10 border-2",children:[e.jsx(V,{src:s.customer?.email?`https://ui-avatars.com/api/?name=${encodeURIComponent(s.customer.name)}&background=0ea5e9&color=fff`:void 0}),e.jsx(B,{children:$(s.customer?.name||"Unknown")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:s.customer?.name||"Unknown"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.customer?.phone})]})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-start gap-2 max-w-xs",children:[e.jsx(w,{className:"h-3 w-3 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm truncate",children:s.pickup_location})]}),e.jsxs("div",{className:"flex items-start gap-2 max-w-xs",children:[e.jsx(w,{className:"h-3 w-3 text-red-600 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm truncate text-muted-foreground",children:s.dropoff_location})]}),s.distance_km&&e.jsxs("p",{className:"text-xs text-muted-foreground ml-5",children:[s.distance_km," km"]})]})}),e.jsxs("td",{className:"p-4",children:[s.vehicle_type&&e.jsx(R,{variant:"outline",className:"text-xs capitalize",children:s.vehicle_type}),s.passengers&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[s.passengers," pax"]})]}),e.jsx("td",{className:"p-4",children:s.pickup_date&&e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium",children:new Date(s.pickup_date).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),s.pickup_time&&e.jsx("p",{className:"text-xs text-muted-foreground",children:s.pickup_time})]})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"font-semibold text-green-600",children:N(s.total_amount||s.estimated_fare||0)})}),e.jsx("td",{className:"p-4",children:e.jsx(u,{size:"sm",onClick:()=>M(s.id),disabled:j===s.id,children:j===s.id?"Accepting...":"Accept"})})]},s.id))})]})})})]}),e.jsxs(h,{className:"shadow-lg",children:[e.jsxs(C,{className:"border-b bg-gradient-to-r from-background to-muted/20",children:[e.jsxs(A,{className:"flex items-center gap-3 text-xl",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:e.jsx(_,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),"My Rides"]}),e.jsx(P,{children:"Your assigned bookings and their current status"})]}),e.jsx(g,{className:"p-0",children:f.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-muted/30",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-4 font-semibold text-sm",children:"Customer"}),e.jsx("th",{className:"text-left p-4 font-semibold text-sm",children:"Route"}),e.jsx("th",{className:"text-left p-4 font-semibold text-sm",children:"Vehicle"}),e.jsx("th",{className:"text-left p-4 font-semibold text-sm",children:"Schedule"}),e.jsx("th",{className:"text-left p-4 font-semibold text-sm",children:"Fare"}),e.jsx("th",{className:"text-left p-4 font-semibold text-sm",children:"Status"}),e.jsx("th",{className:"text-left p-4 font-semibold text-sm",children:"Actions"})]})}),e.jsx("tbody",{children:f.map(s=>e.jsxs("tr",{className:"border-b hover:bg-accent/50 transition-colors",children:[e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(L,{className:"h-10 w-10 border-2",children:[e.jsx(V,{src:s.customer?.email?`https://ui-avatars.com/api/?name=${encodeURIComponent(s.customer.name)}&background=0ea5e9&color=fff`:void 0}),e.jsx(B,{children:$(s.customer?.name||"Unknown")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:s.customer?.name||"Unknown"}),e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(J,{className:"h-3 w-3"}),s.customer?.phone]})]})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-start gap-2 max-w-xs",children:[e.jsx(w,{className:"h-3 w-3 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm truncate",children:s.pickup_location})]}),e.jsxs("div",{className:"flex items-start gap-2 max-w-xs",children:[e.jsx(w,{className:"h-3 w-3 text-red-600 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm truncate text-muted-foreground",children:s.dropoff_location})]}),s.distance_km&&e.jsxs("p",{className:"text-xs text-muted-foreground ml-5",children:[s.distance_km," km"]})]})}),e.jsxs("td",{className:"p-4",children:[s.vehicle_type&&e.jsx(R,{variant:"outline",className:"text-xs capitalize",children:s.vehicle_type}),s.passengers&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[s.passengers," pax"]})]}),e.jsx("td",{className:"p-4",children:s.pickup_date&&e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium",children:new Date(s.pickup_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),s.pickup_time&&e.jsx("p",{className:"text-xs text-muted-foreground",children:s.pickup_time})]})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"font-semibold",children:N(s.total_amount||s.estimated_fare||0)})}),e.jsx("td",{className:"p-4",children:e.jsx(R,{variant:se(s.status),className:"text-xs",children:s.status})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex gap-2",children:[s.status==="pending"&&e.jsx(u,{size:"sm",variant:"outline",onClick:()=>q(s.id,"in_progress"),disabled:S===s.id,children:"Start"}),s.status==="in_progress"&&e.jsx(u,{size:"sm",onClick:()=>q(s.id,"completed"),disabled:S===s.id,children:"Complete"})]})})]},s.id))})]})}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx(_,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-muted-foreground font-medium",children:"No assigned rides yet"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Accept available rides to start earning"})]})})]})]})]})}export{Pe as default};
