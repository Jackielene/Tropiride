import{j as e,H as S,L as V}from"./app-D2KhOlPS.js";import{A as q}from"./app-layout-BuZHd0iL.js";import{C as d,a as i,b as u,c as g,d as N}from"./card-CTMh3Ccf.js";import{B as o}from"./badge-C9baLLyP.js";import{A as v,a as y,b}from"./ErrorBoundary-DhJ2_a8D.js";import{B as H}from"./button-DRgzOgcv.js";import{c as l}from"./createLucideIcon-EMwdt5a8.js";import{C as L}from"./circle-alert-5v61Kg-F.js";import{W as T}from"./wallet-BYFTX5Tr.js";import{S as z}from"./shield-BhWHHmAT.js";import{M as B}from"./map-pin-BuTsegXW.js";import{C as P}from"./calendar-Di2PWPNL.js";import{C as I}from"./clock-CV8Bj2CJ.js";/* empty css            */import"./index-C3HMWAIV.js";import"./index-C-hE0QHb.js";import"./index-6XFs-mRv.js";import"./index-D5JU00dO.js";import"./index-BHDVE5T7.js";import"./floating-ui.react-dom-BzSDvg-6.js";import"./index-1ri6WIs6.js";import"./index-D329iiHL.js";import"./index-CMWG4mbA.js";import"./index-tyedukNl.js";import"./message-square-B3ZYgRdM.js";import"./app-logo-icon-B_p9kvRG.js";import"./shield-check-Buig286y.js";import"./car-D1S1GftI.js";import"./clsx-B-dksMZM.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],M=l("Activity",F);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],E=l("ArrowDownRight",W);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],w=l("ArrowUpRight",G);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],k=l("ShoppingBag",Z);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],$=l("TrendingUp",J);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],U=l("UserCheck",K);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]],Q=l("UserCog",O);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],R=l("Users",X);function h({title:t,value:_,description:c,icon:C,trend:r,trendType:n,color:m="default"}){const x={default:"bg-card",blue:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900 border-blue-200 dark:border-blue-800",green:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950 dark:to-green-900 border-green-200 dark:border-green-800",orange:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950 dark:to-orange-900 border-orange-200 dark:border-orange-800",purple:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950 dark:to-purple-900 border-purple-200 dark:border-purple-800"},j={default:"text-muted-foreground",blue:"text-blue-600 dark:text-blue-400",green:"text-green-600 dark:text-green-400",orange:"text-orange-600 dark:text-orange-400",purple:"text-purple-600 dark:text-purple-400"};return e.jsxs(d,{className:`${x[m]} transition-all hover:shadow-lg`,children:[e.jsxs(u,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(g,{className:"text-sm font-medium text-muted-foreground",children:t}),e.jsx("div",{className:`p-2 rounded-lg bg-background/50 ${m!=="default"&&"shadow-sm"}`,children:e.jsx(C,{className:`h-5 w-5 ${j[m]}`})})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:_}),c&&e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:c}),r&&e.jsxs("div",{className:`flex items-center text-xs font-medium mt-2 ${n==="up"?"text-green-600 dark:text-green-400":n==="down"?"text-red-600 dark:text-red-400":"text-muted-foreground"}`,children:[n==="up"?e.jsx(w,{className:"h-3 w-3 mr-1"}):n==="down"?e.jsx(E,{className:"h-3 w-3 mr-1"}):e.jsx(M,{className:"h-3 w-3 mr-1"}),r]})]})]})}function Y(t){switch(t){case"admin":return"destructive";case"driver":return"secondary";case"customer":default:return"default"}}function D(t){switch(t){case"completed":return"default";case"pending":return"secondary";case"cancelled":return"destructive";default:return"outline"}}function $e({stats:t={totalUsers:0,totalCustomers:0,totalDrivers:0,totalAdmins:0,totalBookings:0,pendingBookings:0,completedBookings:0,pendingVerifications:0,approvedVerifications:0,rejectedVerifications:0,cancelledBookings:0,totalRevenue:0,monthlyRevenue:0},recentUsers:_=[],newUsers:c=[],recentBookings:C=[],allCustomerBookings:r=[],bookingsByStatus:n=[],userGrowth:m=[],topUsers:x=[]}){const j=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),p=s=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(s),f=s=>s.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2),A=r.filter(s=>s.status==="pending").length;return r.filter(s=>s.status==="completed").length,e.jsxs(q,{children:[e.jsx(S,{title:"Tropiride Admin Dashboard"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 overflow-x-auto p-4 md:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold tracking-tight bg-gradient-to-r from-primary via-primary/90 to-primary/70 bg-clip-text text-transparent",children:"Tropiride Admin Dashboard"}),e.jsxs("p",{className:"text-muted-foreground mt-2 flex items-center gap-2",children:[e.jsx(M,{className:"h-4 w-4 text-primary"}),"Manage your ride-booking platform"]})]}),A>0&&e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-orange-50 dark:bg-orange-950 border border-orange-200 dark:border-orange-800 rounded-lg",children:[e.jsx(L,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-orange-900 dark:text-orange-100",children:[A," Pending Bookings"]}),e.jsx("p",{className:"text-xs text-orange-700 dark:text-orange-300",children:"Requires attention"})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(h,{title:"Total Users",value:t.totalUsers,description:`${t.totalCustomers} customers, ${t.totalDrivers} drivers`,icon:R,color:"blue"}),e.jsx(h,{title:"Total Bookings",value:t.totalBookings,description:`${t.pendingBookings} pending, ${t.completedBookings} completed`,icon:k,color:"purple",trend:t.totalBookings>0?`${(t.completedBookings/t.totalBookings*100).toFixed(0)}% completed`:"No bookings yet",trendType:t.totalBookings>0&&t.completedBookings>t.pendingBookings?"up":t.totalBookings>0?"down":void 0}),e.jsx(h,{title:"Total Revenue",value:p(t.totalRevenue),description:`${p(t.monthlyRevenue)} this month`,icon:T,color:"green",trend:`${p(t.monthlyRevenue)} this month`,trendType:"up"}),e.jsx(h,{title:"Administrators",value:t.totalAdmins,description:"Administrator accounts",icon:Q,color:"orange"})]}),t.pendingVerifications>0&&e.jsx(d,{className:"border-2 border-orange-300 dark:border-orange-800 shadow-lg",children:e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900 rounded-full",children:e.jsx(z,{className:"h-8 w-8 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold",children:"Driver Verifications Pending"}),e.jsxs("p",{className:"text-muted-foreground",children:[t.pendingVerifications," ",t.pendingVerifications===1?"driver":"drivers"," waiting for approval"]})]})]}),e.jsx(V,{href:"/admin/verifications",children:e.jsxs(H,{className:"bg-orange-600 hover:bg-orange-700",children:["Review Now",e.jsx(w,{className:"ml-2 h-4 w-4"})]})})]})})}),n.length>0&&e.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:n.map(s=>e.jsx(d,{className:"hover:shadow-md transition-shadow",children:e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1 capitalize",children:s.status}),e.jsx("p",{className:"text-2xl font-bold",children:s.count})]}),e.jsx(o,{variant:D(s.status),className:"text-xs",children:s.status})]})})},s.status))}),e.jsxs(d,{className:"shadow-lg",children:[e.jsx(u,{className:"border-b bg-gradient-to-r from-background to-muted/20",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(g,{className:"flex items-center gap-3 text-xl",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(k,{className:"h-5 w-5 text-primary"})}),"All Customer Booking Requests"]}),e.jsx(N,{className:"mt-2",children:"Complete list of all booking requests from registered customers"})]}),e.jsxs(o,{variant:"outline",className:"text-lg px-4 py-2",children:[r.length," Total"]})]})}),e.jsx(i,{className:"p-0",children:r.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-muted/30 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-4 font-semibold text-sm",children:"Customer"}),e.jsx("th",{className:"text-left p-4 font-semibold text-sm",children:"Route"}),e.jsx("th",{className:"text-left p-4 font-semibold text-sm",children:"Vehicle"}),e.jsx("th",{className:"text-left p-4 font-semibold text-sm",children:"Schedule"}),e.jsx("th",{className:"text-left p-4 font-semibold text-sm",children:"Amount"}),e.jsx("th",{className:"text-left p-4 font-semibold text-sm",children:"Status"}),e.jsx("th",{className:"text-left p-4 font-semibold text-sm",children:"Requested"})]})}),e.jsx("tbody",{children:r.map((s,a)=>e.jsxs("tr",{className:`border-b hover:bg-accent/50 transition-colors ${a%2===0?"bg-background":"bg-muted/20"}`,children:[e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(v,{className:"h-10 w-10 border-2 border-background",children:[e.jsx(y,{src:s.user?.email?`https://ui-avatars.com/api/?name=${encodeURIComponent(s.user.name)}&background=0ea5e9&color=fff`:void 0}),e.jsx(b,{className:"bg-primary text-primary-foreground",children:f(s.user?.name||"Unknown")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:s.user?.name||"Unknown"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.user?.email})]})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-start gap-2 max-w-xs",children:[e.jsx(B,{className:"h-3 w-3 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm truncate",children:s.pickup_location})]}),e.jsxs("div",{className:"flex items-start gap-2 max-w-xs",children:[e.jsx(B,{className:"h-3 w-3 text-red-600 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm truncate text-muted-foreground",children:s.dropoff_location})]}),s.distance_km&&e.jsxs("p",{className:"text-xs text-muted-foreground ml-5",children:[s.distance_km," km"]})]})}),e.jsx("td",{className:"p-4",children:e.jsx("div",{className:"space-y-1",children:s.vehicle_type?e.jsx(o,{variant:"outline",className:"text-xs capitalize",children:s.vehicle_type}):e.jsx("span",{className:"text-xs text-muted-foreground",children:"Not specified"})})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"text-sm space-y-2",children:[s.pickup_date&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:new Date(s.pickup_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),s.pickup_time&&e.jsx("p",{className:"text-xs text-muted-foreground",children:s.pickup_time})]})]}),s.return_date&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground border-t pt-2 mt-2",children:[e.jsx(w,{className:"h-3 w-3"}),e.jsxs("div",{children:["Return: ",new Date(s.return_date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),s.return_time&&` ${s.return_time}`]})]})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"space-y-1",children:[(s.total_amount||s.estimated_fare)&&e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"font-semibold",children:p(s.total_amount||s.estimated_fare||0)})}),s.passengers&&e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(R,{className:"h-3 w-3"}),s.passengers," passenger",s.passengers!==1?"s":""]})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{variant:D(s.status),className:"text-xs",children:s.status}),s.payment_status&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:`h-2 w-2 rounded-full ${s.payment_status==="paid"?"bg-green-500":s.payment_status==="pending"?"bg-yellow-500":"bg-red-500"}`}),e.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:s.payment_status})]})]})}),e.jsx("td",{className:"p-4 text-sm text-muted-foreground",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"h-4 w-4"}),j(s.created_at)]})})]},s.id))})]})}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx(k,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-muted-foreground font-medium",children:"No customer booking requests found"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Booking requests will appear here once customers create them"})]})})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(d,{children:[e.jsxs(u,{className:"border-b",children:[e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:e.jsx(U,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),"New Users (Last 7 Days)"]}),e.jsx(N,{children:"Recently registered users and their roles"})]}),e.jsx(i,{className:"p-4",children:c.length>0?e.jsx("div",{className:"space-y-3",children:c.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-accent/50 transition-all hover:shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(v,{className:"h-10 w-10 border-2",children:[e.jsx(y,{src:s.avatar_url,alt:s.name}),e.jsx(b,{children:f(s.name)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:s.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.email})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx(o,{variant:Y(s.role),children:s.role})})]},s.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(U,{className:"h-10 w-10 text-muted-foreground mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No new users in the last 7 days"})]})})]}),e.jsxs(d,{children:[e.jsxs(u,{className:"border-b",children:[e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900 rounded-lg",children:e.jsx($,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),"Top Users"]}),e.jsx(N,{children:"Most active users by number of bookings"})]}),e.jsx(i,{className:"p-4",children:x.length>0?e.jsx("div",{className:"space-y-3",children:x.map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-accent/50 transition-all hover:shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full font-bold text-sm ${a===0?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300":a===1?"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300":a===2?"bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300":"bg-primary/10 text-primary"}`,children:a+1}),e.jsxs(v,{className:"h-10 w-10 border-2",children:[e.jsx(y,{src:s.avatar_url,alt:s.name}),e.jsx(b,{children:f(s.name)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:s.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.email})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-lg",children:s.bookings_count}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"bookings"})]})})]},s.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx($,{className:"h-10 w-10 text-muted-foreground mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No booking data available"})]})})]})]})]})]})}export{$e as default};
