import{u as T,r as p,j as e,H as W,L as z,a as g}from"./app-BhXyXnS2.js";import{A as O}from"./app-layout-DmzB1h35.js";import{C as j,b as A,c as D,d as S,a as N}from"./card-9IM8v4mu.js";import{B as X}from"./badge-BjIwJJPt.js";import{A as G,a as J,b as K}from"./ErrorBoundary-DEX0Ltv_.js";import{B as u}from"./button-CtzH_zQO.js";import{D as Q,a as Z,b as ee,c as se,d as ae,e as re}from"./dialog-Dz5ka2-n.js";import{C as F}from"./car-jdvILSLJ.js";import{C as U}from"./circle-alert-Bhisl1jQ.js";import{a as i,C as d,b as L}from"./credit-card-DhookKnw.js";import{C as q}from"./clock-C7-ZuTbt.js";import{c as B}from"./createLucideIcon-C3hcaC7i.js";import{W as te}from"./wallet-UzKoR-cx.js";import{M as I}from"./map-pin-BmdSj3yt.js";/* empty css            */import"./index-BntJkM1G.js";import"./index-_k09FYqd.js";import"./index-Mz6-9H1I.js";import"./index-CZQb3Rtj.js";import"./index-D8Ur9APl.js";import"./floating-ui.react-dom-Bs-kXhYm.js";import"./index-BnQkcG7C.js";import"./index-D329iiHL.js";import"./index-CMWG4mbA.js";import"./index-Dt-1yqXF.js";import"./message-square-Cx1T68uG.js";import"./app-logo-icon-DE7528Vo.js";import"./shield-check-C8Dyugnr.js";import"./clsx-B-dksMZM.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],$=B("Package",le);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],ie=B("Upload",ne);function _({title:t,value:h,description:c,icon:s,color:r="default"}){const v={default:"bg-card",blue:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900 border-blue-200 dark:border-blue-800",green:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950 dark:to-green-900 border-green-200 dark:border-green-800",orange:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950 dark:to-orange-900 border-orange-200 dark:border-orange-800",purple:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950 dark:to-purple-900 border-purple-200 dark:border-purple-800"},o={default:"text-muted-foreground",blue:"text-blue-600 dark:text-blue-400",green:"text-green-600 dark:text-green-400",orange:"text-orange-600 dark:text-orange-400",purple:"text-purple-600 dark:text-purple-400"};return e.jsxs(j,{className:`${v[r]} transition-all hover:shadow-lg`,children:[e.jsxs(A,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(D,{className:"text-sm font-medium text-muted-foreground",children:t}),e.jsx("div",{className:`p-2 rounded-lg bg-background/50 ${r!=="default"&&"shadow-sm"}`,children:e.jsx(s,{className:`h-5 w-5 ${o[r]}`})})]}),e.jsxs(N,{children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:h}),c&&e.jsx("p",{className:"text-xs text-muted-foreground",children:c})]})]})}function Ee({stats:t,assignedBookings:h=[],availableBookings:c=[],driver:s}){const{flash:r}=T().props,v=h.filter(a=>a.status!=="completed"&&a.status!=="cancelled"),[o,y]=p.useState(null);p.useEffect(()=>{console.log("=== Driver Dashboard Data ==="),console.log("Assigned Bookings:",h),console.log("Available Bookings:",c),console.log("Stats:",t),console.log("Flash:",r)},[h,c,t,r]);const[de,ce]=p.useState(null),[b,k]=p.useState(null),[n,f]=p.useState({name:s.name||"",email:s.email||"",phone:s.phone||"",age:s.age||"",address:s.address||""}),[R,P]=p.useState(!1),C=a=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(a),E=a=>a.split(" ").map(l=>l[0]).join("").toUpperCase().slice(0,2),M=a=>{k(a)},V=()=>{if(b){const a=b;console.log("Accepting booking:",a),y(a),k(null),g.post(`/driver/bookings/${a}/accept`,{},{onSuccess:l=>{console.log("Accept success, page props:",l.props),console.log("Assigned bookings after accept:",l.props.assignedBookings),y(null)},onError:l=>{console.error("Accept error:",l),y(null)},onFinish:()=>{console.log("Accept finished"),y(null)}})}},Y=a=>{a.preventDefault(),P(!0),g.patch("/driver/profile",n,{preserveScroll:!0,onSuccess:()=>{console.log("Profile updated successfully")},onError:l=>{console.error("Profile update errors:",l)},onFinish:()=>P(!1)})},m=(a,l)=>{const w=a.target.files?.[0];if(!w)return;const x=new FormData;l==="avatar"?(x.append("avatar",w),g.post("/driver/profile/avatar",x,{preserveScroll:!0})):l==="license_front"?(x.append("license_front",w),g.post("/driver/profile/license-front",x,{preserveScroll:!0})):l==="license_back"&&(x.append("license_back",w),g.post("/driver/profile/license-back",x,{preserveScroll:!0}))},H=()=>{confirm("Resubmit your profile for verification?")&&g.post("/driver/profile/resubmit-verification")};return e.jsxs(O,{children:[e.jsx(W,{title:"Driver Dashboard - Tropiride"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 overflow-x-auto p-4 md:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold tracking-tight bg-gradient-to-r from-primary via-primary/90 to-primary/70 bg-clip-text text-transparent",children:"Driver Dashboard"}),e.jsxs("p",{className:"text-muted-foreground mt-2 flex items-center gap-2",children:[e.jsx(F,{className:"h-4 w-4 text-primary"}),"Welcome back, ",s.name,"!"]})]}),t.availableRides>0&&e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 rounded-lg",children:[e.jsx(U,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-green-900 dark:text-green-100",children:[t.availableRides," Available Rides"]}),e.jsx("p",{className:"text-xs text-green-700 dark:text-green-300",children:"Ready to accept"})]})]})]}),r?.success&&e.jsx("div",{className:"bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 rounded-lg p-4",children:e.jsx("p",{className:"text-green-800 dark:text-green-200",children:r.success})}),r?.error&&e.jsx("div",{className:"bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsx("p",{className:"text-red-800 dark:text-red-200",children:r.error})}),r?.status&&e.jsx("div",{className:"bg-blue-50 dark:bg-blue-950 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:e.jsx("p",{className:"text-blue-800 dark:text-blue-200",children:r.status})}),r?.warning&&e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-950 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:e.jsx("p",{className:"text-yellow-800 dark:text-yellow-200",children:r.warning})}),r?.info&&e.jsx("div",{className:"bg-blue-50 dark:bg-blue-950 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:e.jsx("p",{className:"text-blue-800 dark:text-blue-200",children:r.info})}),!s.is_verified&&e.jsxs(j,{className:`shadow-lg border-2 ${s.is_verification_rejected?"border-red-300 dark:border-red-800":s.is_verification_pending?"border-blue-300 dark:border-blue-800":"border-yellow-300 dark:border-yellow-800"}`,children:[e.jsxs(A,{className:`${s.is_verification_rejected?"bg-red-50 dark:bg-red-950":s.is_verification_pending?"bg-blue-50 dark:bg-blue-950":"bg-yellow-50 dark:bg-yellow-950"}`,children:[e.jsxs(D,{className:"flex items-center gap-3 text-xl",children:[s.is_verification_rejected&&e.jsx(i,{className:"h-6 w-6 text-red-600"}),s.is_verification_pending&&e.jsx(q,{className:"h-6 w-6 text-blue-600"}),!s.has_completed_profile&&e.jsx(U,{className:"h-6 w-6 text-yellow-600"}),s.is_verification_rejected&&"Verification Rejected",s.is_verification_pending&&"Verification Pending",!s.has_completed_profile&&"Complete Your Profile"]}),e.jsxs(S,{children:[s.is_verification_rejected&&"Your verification was rejected. Please review and resubmit.",s.is_verification_pending&&"Your profile is being reviewed by our admin team.",!s.has_completed_profile&&"Complete all required fields to start accepting rides."]})]}),e.jsxs(N,{className:"p-6",children:[s.is_verification_rejected&&s.rejection_reason&&e.jsxs("div",{className:"mb-6 p-4 bg-red-100 dark:bg-red-900 border border-red-300 dark:border-red-700 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-red-900 dark:text-red-100 mb-2",children:"Rejection Reason:"}),e.jsx("p",{className:"text-red-800 dark:text-red-200",children:s.rejection_reason})]}),s.is_verification_pending&&e.jsx("div",{className:"mb-6 p-4 bg-blue-100 dark:bg-blue-900 border border-blue-300 dark:border-blue-700 rounded-lg",children:e.jsx("p",{className:"text-blue-800 dark:text-blue-200",children:"Our admin team will review your documents shortly. You'll be able to accept rides once approved."})}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Required Information:"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[s.name&&s.name.trim()!==""?e.jsx(d,{className:"h-4 w-4 text-green-600"}):e.jsx(i,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:s.name&&s.name.trim()!==""?"text-green-700 dark:text-green-400":"text-gray-600",children:"Full Name"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[s.age!==null&&s.age!==void 0&&s.age>=18?e.jsx(d,{className:"h-4 w-4 text-green-600"}):e.jsx(i,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:s.age!==null&&s.age!==void 0&&s.age>=18?"text-green-700 dark:text-green-400":"text-gray-600",children:"Age (18+)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[s.phone&&s.phone.trim()!==""?e.jsx(d,{className:"h-4 w-4 text-green-600"}):e.jsx(i,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:s.phone&&s.phone.trim()!==""?"text-green-700 dark:text-green-400":"text-gray-600",children:"Phone Number"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[s.address&&s.address.trim()!==""?e.jsx(d,{className:"h-4 w-4 text-green-600"}):e.jsx(i,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:s.address&&s.address.trim()!==""?"text-green-700 dark:text-green-400":"text-gray-600",children:"Address"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[s.avatar&&s.avatar.trim()!==""?e.jsx(d,{className:"h-4 w-4 text-green-600"}):e.jsx(i,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:s.avatar&&s.avatar.trim()!==""?"text-green-700 dark:text-green-400":"text-gray-600",children:"Profile Picture"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[s.driver_license_front&&s.driver_license_front.trim()!==""?e.jsx(d,{className:"h-4 w-4 text-green-600"}):e.jsx(i,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:s.driver_license_front&&s.driver_license_front.trim()!==""?"text-green-700 dark:text-green-400":"text-gray-600",children:"Driver's License (Front)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[s.driver_license_back&&s.driver_license_back.trim()!==""?e.jsx(d,{className:"h-4 w-4 text-green-600"}):e.jsx(i,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:s.driver_license_back&&s.driver_license_back.trim()!==""?"text-green-700 dark:text-green-400":"text-gray-600",children:"Driver's License (Back)"})]})]})]}),e.jsx("div",{children:e.jsxs("form",{onSubmit:Y,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Full Name *"}),e.jsx("input",{type:"text",value:n.name,onChange:a=>f({...n,name:a.target.value}),className:"w-full px-3 py-2 border rounded-md",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email *"}),e.jsx("input",{type:"email",value:n.email,onChange:a=>f({...n,email:a.target.value}),className:"w-full px-3 py-2 border rounded-md",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Age *"}),e.jsx("input",{type:"number",min:"18",max:"100",value:n.age,onChange:a=>f({...n,age:a.target.value}),className:"w-full px-3 py-2 border rounded-md",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number *"}),e.jsx("input",{type:"tel",value:n.phone,onChange:a=>f({...n,phone:a.target.value}),className:"w-full px-3 py-2 border rounded-md",required:!0})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Address *"}),e.jsx("input",{type:"text",value:n.address,onChange:a=>f({...n,address:a.target.value}),className:"w-full px-3 py-2 border rounded-md",required:!0})]})]}),e.jsx(u,{type:"submit",disabled:R,children:R?"Saving...":"Save Profile"})]})}),e.jsxs("div",{className:"mt-6 grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Profile Picture *"}),s.avatar_url?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s.avatar_url,alt:"Avatar",className:"w-full h-32 object-cover rounded-md"}),e.jsxs("label",{className:"absolute bottom-2 right-2 bg-white dark:bg-gray-800 px-3 py-1 rounded shadow cursor-pointer hover:bg-gray-50",children:["Change",e.jsx("input",{type:"file",accept:"image/*",onChange:a=>m(a,"avatar"),className:"hidden"})]})]}):e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-md cursor-pointer hover:bg-accent/50",children:[e.jsx(ie,{className:"h-8 w-8 text-muted-foreground mb-2"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Upload Photo"}),e.jsx("input",{type:"file",accept:"image/*",onChange:a=>m(a,"avatar"),className:"hidden"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"License Front *"}),s.driver_license_front_url?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s.driver_license_front_url,alt:"License Front",className:"w-full h-32 object-cover rounded-md"}),e.jsxs("label",{className:"absolute bottom-2 right-2 bg-white dark:bg-gray-800 px-3 py-1 rounded shadow cursor-pointer hover:bg-gray-50",children:["Change",e.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:a=>m(a,"license_front"),className:"hidden"})]})]}):e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-md cursor-pointer hover:bg-accent/50",children:[e.jsx(L,{className:"h-8 w-8 text-muted-foreground mb-2"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Upload Front"}),e.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:a=>m(a,"license_front"),className:"hidden"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"License Back *"}),s.driver_license_back_url?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s.driver_license_back_url,alt:"License Back",className:"w-full h-32 object-cover rounded-md"}),e.jsxs("label",{className:"absolute bottom-2 right-2 bg-white dark:bg-gray-800 px-3 py-1 rounded shadow cursor-pointer hover:bg-gray-50",children:["Change",e.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:a=>m(a,"license_back"),className:"hidden"})]})]}):e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-md cursor-pointer hover:bg-accent/50",children:[e.jsx(L,{className:"h-8 w-8 text-muted-foreground mb-2"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Upload Back"}),e.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:a=>m(a,"license_back"),className:"hidden"})]})]})]}),s.is_verification_pending&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900 border border-blue-300 dark:border-blue-700 rounded-lg",children:e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"ðŸ’¡ You can edit your profile while your verification is pending. Any changes will be reviewed by admin."})}),s.is_verification_rejected&&e.jsx("div",{className:"mt-6",children:e.jsx(u,{onClick:H,className:"bg-orange-600 hover:bg-orange-700",disabled:!s.is_profile_ready,children:s.is_profile_ready?"Resubmit for Verification":"Complete Profile First"})})]})]}),s.is_verified&&e.jsx(j,{className:"shadow-lg border-2 border-green-300 dark:border-green-800 bg-green-50 dark:bg-green-950",children:e.jsx(N,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(d,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-green-900 dark:text-green-100 text-lg",children:"âœ… Verified Driver"}),e.jsx("p",{className:"text-green-700 dark:text-green-300",children:"You're approved! You can now accept ride requests."})]})]})})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(_,{title:"Total Rides",value:t.totalRides,description:`${t.completedRides} completed`,icon:F,color:"blue"}),e.jsx(_,{title:"Pending Rides",value:t.pendingRides,description:"Awaiting completion",icon:q,color:"orange"}),e.jsx(_,{title:"Total Earnings",value:C(t.totalEarnings),description:`${C(t.todayEarnings)} today`,icon:te,color:"green"}),e.jsx(_,{title:"Available Rides",value:t.availableRides,description:"Ready to accept",icon:$,color:"purple"})]}),e.jsxs("div",{className:"space-y-6",children:[c.length>0&&e.jsxs(j,{className:"shadow-lg",children:[e.jsxs(A,{className:"border-b bg-gradient-to-r from-background to-muted/20",children:[e.jsxs(D,{className:"flex items-center gap-3 text-xl",children:[e.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-lg",children:e.jsx($,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),"Available Rides"]}),e.jsx(S,{children:"New ride requests ready for you to accept"})]}),e.jsx(N,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-muted/30",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-4 font-semibold text-sm",children:"Customer"}),e.jsx("th",{className:"text-left p-4 font-semibold text-sm",children:"Route"}),e.jsx("th",{className:"text-left p-4 font-semibold text-sm",children:"Vehicle"}),e.jsx("th",{className:"text-left p-4 font-semibold text-sm",children:"Schedule"}),e.jsx("th",{className:"text-left p-4 font-semibold text-sm",children:"Fare"}),e.jsx("th",{className:"text-left p-4 font-semibold text-sm",children:"Action"})]})}),e.jsx("tbody",{children:c.map(a=>e.jsxs("tr",{className:"border-b hover:bg-accent/50 transition-colors",children:[e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(G,{className:"h-10 w-10 border-2",children:[e.jsx(J,{src:a.customer?.email?`https://ui-avatars.com/api/?name=${encodeURIComponent(a.customer.name)}&background=0ea5e9&color=fff`:void 0}),e.jsx(K,{children:E(a.customer?.name||"Unknown")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:a.customer?.name||"Unknown"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a.customer?.phone})]})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-start gap-2 max-w-xs",children:[e.jsx(I,{className:"h-3 w-3 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm truncate",children:a.pickup_location})]}),e.jsxs("div",{className:"flex items-start gap-2 max-w-xs",children:[e.jsx(I,{className:"h-3 w-3 text-red-600 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm truncate text-muted-foreground",children:a.dropoff_location})]}),a.distance_km&&e.jsxs("p",{className:"text-xs text-muted-foreground ml-5",children:[a.distance_km," km"]})]})}),e.jsxs("td",{className:"p-4",children:[a.vehicle_type&&e.jsx(X,{variant:"outline",className:"text-xs capitalize",children:a.vehicle_type}),a.passengers&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a.passengers," pax"]})]}),e.jsx("td",{className:"p-4",children:a.pickup_date&&e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium",children:new Date(a.pickup_date).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),a.pickup_time&&e.jsx("p",{className:"text-xs text-muted-foreground",children:a.pickup_time})]})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"font-semibold text-green-600",children:C(a.total_amount||a.estimated_fare||0)})}),e.jsx("td",{className:"p-4",children:e.jsx(u,{size:"sm",onClick:()=>M(a.id),disabled:o===a.id,children:o===a.id?"Accepting...":"Accept"})})]},a.id))})]})})})]}),e.jsx(j,{className:"shadow-md border border-dashed border-primary/40 bg-primary/5",children:e.jsxs(N,{className:"flex flex-col gap-3 py-6 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-primary",children:"Assigned rides"}),e.jsxs("p",{className:"text-lg font-bold",children:[v.length," ",e.jsxs("span",{className:"font-normal text-muted-foreground",children:["ride",v.length===1?"":"s"," waiting for updates"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Review and update statuses in the dedicated My Rides view."})]}),e.jsx(u,{asChild:!0,children:e.jsx(z,{href:"/driver/rides",children:"Open My Rides"})})]})})]})]}),e.jsx(Q,{open:!!b,onOpenChange:a=>!a&&k(null),children:e.jsxs(Z,{children:[e.jsxs(ee,{children:[e.jsx(se,{children:"Accept Booking"}),e.jsx(ae,{children:"Are you sure you want to accept this booking?"})]}),e.jsxs(re,{className:"gap-2 sm:gap-0",children:[e.jsx(u,{variant:"outline",onClick:()=>k(null),children:"No"}),e.jsx(u,{onClick:V,disabled:o===b,children:o===b?"Accepting...":"Yes"})]})]})})]})}export{Ee as default};
