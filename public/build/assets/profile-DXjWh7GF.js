import{r as n,j as e,u as ie,L as oe,a as A}from"./app-C4cuASG2.js";import{D as N,x as G,w as Q,i as R,h as I,m,B as D,a1 as ce,a2 as B,O as de,F as L,a3 as me,A as E,a4 as xe,a5 as he,a6 as ge,g as q,V as H,C as pe,j as ue}from"./index-C32Ir2wu.js";import{T as fe}from"./TropirideNavbar-B2SzLwlk.js";import{C as U,d as z,a as Y,b as V,c as J}from"./card-ttQjue1N.js";import{E as ye,A as je,a as be,b as Ne}from"./ErrorBoundary-DitMJWi8.js";import{c as ve,B as p}from"./button-BaUCg25s.js";import{L as d}from"./label-DBawQfHK.js";import{B as O}from"./badge-C8wr0_Rq.js";import{P as we}from"./index-j-O9anLv.js";import{I as b}from"./input-BR4JHOYH.js";import{D as Ce,b as Fe,g as Se,c as Ae,d as Ee,e as Ie}from"./dialog-mk_Z3Lip.js";/* empty css            */import"./index-oYlIzjjj.js";import"./clsx-B-dksMZM.js";import"./index-D2ouRofz.js";import"./index-CAa50Zyw.js";import"./createLucideIcon-BHLCCdoz.js";import"./index-kxkUUeLI.js";var Pe="Separator",K="horizontal",_e=["horizontal","vertical"],X=n.forwardRef((x,l)=>{const{decorative:h,orientation:s=K,...g}=x,i=Te(s)?s:K,o=h?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return e.jsx(we.div,{"data-orientation":i,...o,...g,ref:l})});X.displayName=Pe;function Te(x){return _e.includes(x)}var De=X;function W({className:x,orientation:l="horizontal",decorative:h=!0,...s}){return e.jsx(De,{"data-slot":"separator-root",decorative:h,orientation:l,className:ve("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",x),...s})}function Be({user:x,profileData:l,onDataChange:h}){const[s,g]=n.useState({name:l.name||"",email:l.email||"",phone:l.phone||"",age:l.age||"",address:l.address||""});n.useEffect(()=>{g({name:l.name||"",email:l.email||"",phone:l.phone||"",age:l.age||"",address:l.address||""})},[l.name,l.email,l.phone,l.age,l.address]),n.useEffect(()=>{h(s)},[s.name,s.email,s.phone,s.age,s.address]);const i=y=>{const{name:o,value:v}=y.target;g(u=>({...u,[o]:v}))};return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(d,{htmlFor:"name",className:"flex items-center gap-2 text-gray-700 font-semibold",children:[e.jsx(N,{className:"text-cyan-600"}),"Full Name"]}),e.jsx(b,{id:"name",name:"name",type:"text",value:s.name,onChange:i,required:!0,className:"mt-1 border-2 border-cyan-200 focus:border-cyan-500 focus:ring-cyan-500 rounded-lg",placeholder:"Enter your full name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(d,{htmlFor:"email",className:"flex items-center gap-2 text-gray-700 font-semibold",children:[e.jsx(G,{className:"text-cyan-600"}),"Email Address"]}),e.jsx(b,{id:"email",name:"email",type:"email",value:s.email,onChange:i,required:!0,className:"mt-1 border-2 border-cyan-200 focus:border-cyan-500 focus:ring-cyan-500 rounded-lg",placeholder:"Enter your email"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(d,{htmlFor:"phone",className:"flex items-center gap-2 text-gray-700 font-semibold",children:[e.jsx(Q,{className:"text-cyan-600"}),"Phone Number"]}),e.jsx(b,{id:"phone",name:"phone",type:"tel",value:s.phone,onChange:i,className:"mt-1 border-2 border-cyan-200 focus:border-cyan-500 focus:ring-cyan-500 rounded-lg",placeholder:"Enter your phone number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(d,{htmlFor:"age",className:"flex items-center gap-2 text-gray-700 font-semibold",children:[e.jsx(R,{className:"text-cyan-600"}),"Age"]}),e.jsx(b,{id:"age",name:"age",type:"number",min:"1",max:"120",value:s.age,onChange:i,className:"mt-1 border-2 border-cyan-200 focus:border-cyan-500 focus:ring-cyan-500 rounded-lg",placeholder:"Enter your age"})]}),e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsxs(d,{htmlFor:"address",className:"flex items-center gap-2 text-gray-700 font-semibold",children:[e.jsx(I,{className:"text-cyan-600"}),"Address"]}),e.jsx(b,{id:"address",name:"address",type:"text",value:s.address,onChange:i,className:"mt-1 border-2 border-cyan-200 focus:border-cyan-500 focus:ring-cyan-500 rounded-lg",placeholder:"Enter your address"})]})]})})}function Ze(){const{auth:x,flash:l,bookings:h=[]}=ie().props,s=x.user,[g,i]=n.useState(!1),[y,o]=n.useState(!1),[v,u]=n.useState(!1),[$,w]=n.useState({}),[f,C]=n.useState(null),[Z,P]=n.useState(!1),[_,F]=n.useState(null),[t,T]=n.useState({name:s?.name||"",email:s?.email||"",phone:s?.phone||"",age:s?.age?.toString()||"",address:s?.address||""}),k=()=>{if(!s?.avatar_url)return`https://ui-avatars.com/api/?name=${encodeURIComponent(t.name)}&background=0ea5e9&color=ffffff&size=128`;const a=s.avatar_url.includes("?")?"&":"?";return`${s.avatar_url}${a}t=${Date.now()}`},ee=n.useCallback(a=>{T(r=>JSON.stringify(r)!==JSON.stringify(a)?a:r)},[]);n.useEffect(()=>{T({name:s?.name||"",email:s?.email||"",phone:s?.phone||"",age:s?.age?.toString()||"",address:s?.address||""})},[s]);const ae=()=>{u(!0),w({});const a={name:t.name||"",email:t.email||"",phone:t.phone&&t.phone.trim()?t.phone.trim():null,age:t.age&&t.age.toString().trim()?parseInt(t.age.toString()):null,address:t.address&&t.address.trim()?t.address.trim():null};console.log("Saving profile data:",a),console.log("Current profileData:",t),console.log("Phone type:",typeof t.phone,"value:",t.phone),console.log("Age type:",typeof t.age,"value:",t.age),console.log("Address type:",typeof t.address,"value:",t.address),A.patch("/tropiride/profile",a,{onSuccess:()=>{i(!1),u(!1),w({})},onError:r=>{console.error("Profile update failed:",r),u(!1),r&&typeof r=="object"&&w(r)},onFinish:()=>{u(!1)}})},se=()=>{T({name:s?.name||"",email:s?.email||"",phone:s?.phone||"",age:s?.age?.toString()||"",address:s?.address||""}),i(!1),w({})},te=a=>{const r=a.target.files?.[0];if(r){if(o(!0),r.size>2*1024*1024){alert("Image size must be less than 2MB"),o(!1);return}if(!r.type.startsWith("image/")){alert("Please upload an image file"),o(!1);return}const j=new FormData;j.append("avatar",r),console.log("Uploading avatar:",r.name,r.size,"bytes"),A.post("/tropiride/profile/avatar",j,{forceFormData:!0,preserveScroll:!0,onSuccess:c=>{console.log("Avatar upload successful"),console.log("Page props:",c.props),console.log("Auth user after upload:",c.props.auth?.user),o(!1),setTimeout(()=>{A.reload({only:["auth"]})},100)},onError:c=>{console.error("Avatar upload failed:",c),o(!1),c.avatar?alert(`Failed to upload avatar: ${Array.isArray(c.avatar)?c.avatar[0]:c.avatar}`):alert("Failed to upload avatar. Please try again.")},onFinish:()=>{o(!1)}})}},re=a=>{F(a),P(!0)},le=()=>{_&&(C(_),P(!1),A.post(`/tropiride/bookings/${_}/cancel`,{},{onSuccess:()=>{C(null),F(null)},onError:a=>{console.error("Cancel booking failed:",a),C(null),F(null),alert("Failed to cancel booking. Please try again.")},onFinish:()=>{C(null)}}))},M=a=>{a||(P(!1),f||F(null))},ne=a=>{switch(a.toLowerCase()){case"pending":return{label:"Pending",icon:E,className:"bg-yellow-50 text-yellow-700 border-yellow-300",iconClassName:"text-yellow-600"};case"confirmed":return{label:"Confirmed",icon:ue,className:"bg-blue-50 text-blue-700 border-blue-300",iconClassName:"text-blue-600"};case"in_progress":return{label:"In Progress",icon:L,className:"bg-purple-50 text-purple-700 border-purple-300",iconClassName:"text-purple-600"};case"completed":return{label:"Completed",icon:pe,className:"bg-green-50 text-green-700 border-green-300",iconClassName:"text-green-600"};case"cancelled":return{label:"Cancelled",icon:D,className:"bg-red-50 text-red-700 border-red-300",iconClassName:"text-red-600"};default:return{label:a.charAt(0).toUpperCase()+a.slice(1),icon:q,className:"bg-gray-50 text-gray-700 border-gray-300",iconClassName:"text-gray-600"}}},S=Array.isArray(h)?h.map(a=>{try{const r=a.created_at||a.requested_at,j=r?new Date(r):new Date,c=ne(a.status||"pending");return{id:a.id,vehicle:a.user_name||s?.name||"Ride Request",userName:a.user_name||s?.name||"Unknown",date:j.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),time:j.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),status:a.status||"pending",statusInfo:c,price:Number(a.estimated_fare)||0,rating:0,pickupLocation:a.pickup_location||"",dropoffLocation:a.dropoff_location||"",distance:Number(a.distance_km)||0,timeMinutes:Number(a.estimated_time_minutes)||0}}catch(r){return console.error("Error processing booking:",a,r),null}}).filter(a=>a!==null):[];return e.jsxs(e.Fragment,{children:[e.jsx(fe,{}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-cyan-50/30 to-blue-50/30",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs(m.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(N,{className:"text-white text-xl"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-600 to-blue-600 bg-clip-text text-transparent",children:"My Profile"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your account information and view your bookings"})]})]}),l?.status&&e.jsx(m.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-4 p-4 bg-gradient-to-r from-emerald-50 to-green-50 border-2 border-emerald-200 rounded-xl shadow-md",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-500 to-green-600 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"h-6 w-6 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm font-semibold text-emerald-800",children:l.status})})]})}),l?.error&&e.jsx(m.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-4 p-4 bg-gradient-to-r from-red-50 to-pink-50 border-2 border-red-200 rounded-xl shadow-md",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-red-500 to-pink-600 rounded-full flex items-center justify-center",children:e.jsx(D,{className:"h-5 w-5 text-white"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm font-semibold text-red-800",children:l.error})})]})})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsx(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},className:"lg:col-span-1",children:e.jsx(U,{className:"overflow-hidden shadow-xl border-0 bg-gradient-to-br from-white to-cyan-50/50",children:e.jsxs(z,{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(ye,{children:e.jsxs(je,{className:"w-32 h-32 border-4 border-cyan-200 shadow-lg",children:[e.jsx(be,{src:k(),alt:t.name,className:y?"opacity-50":"",onError:a=>{console.error("Avatar load error:",a),console.log("Avatar URL:",s?.avatar_url),console.log("User avatar field:",s?.avatar),console.log("Attempted src:",k())},onLoad:()=>{console.log("Avatar loaded successfully:",s?.avatar_url)}},`avatar-${s?.avatar||"default"}-${s?.updated_at||Date.now()}`),e.jsx(Ne,{className:"text-3xl bg-gradient-to-br from-cyan-500 to-blue-600 text-white",children:t.name.split(" ").map(a=>a[0]).join("")})]})}),y&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-cyan-600/80 rounded-full",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})}),e.jsx("label",{htmlFor:"profile-image-upload",className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-cyan-600/80 to-blue-600/80 rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer backdrop-blur-sm",children:e.jsx(ce,{className:"text-white text-2xl"})}),e.jsx("input",{id:"profile-image-upload",type:"file",accept:"image/*",onChange:te,className:"hidden"})]}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-4 text-center",children:t.name}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:t.email}),e.jsx(O,{className:"mt-3 bg-gradient-to-r from-cyan-500 to-blue-600",children:"Verified Member"})]}),e.jsx(W,{className:"my-6 bg-gradient-to-r from-transparent via-cyan-200 to-transparent"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(m.div,{whileHover:{scale:1.02,y:-2},className:"flex items-center justify-between p-4 bg-gradient-to-br from-cyan-50 to-blue-50 rounded-xl border-2 border-cyan-100 shadow-md hover:shadow-lg transition-all",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-xl flex items-center justify-center shadow-md",children:e.jsx(B,{className:"text-white text-lg"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600 uppercase tracking-wide",children:"Total Rides"}),e.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-600 to-blue-600 bg-clip-text text-transparent",children:S.length})]})]})}),e.jsx(m.div,{whileHover:{scale:1.02,y:-2},className:"flex items-center justify-between p-4 bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl border-2 border-amber-100 shadow-md hover:shadow-lg transition-all",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl flex items-center justify-center shadow-md",children:e.jsx(de,{className:"text-white text-lg"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600 uppercase tracking-wide",children:"Total Spent"}),e.jsxs("p",{className:"text-2xl font-bold bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent",children:["₱",S.reduce((a,r)=>a+(Number(r.price)||0),0).toFixed(2)]})]})]})}),e.jsx(m.div,{whileHover:{scale:1.02,y:-2},className:"flex items-center justify-between p-4 bg-gradient-to-br from-emerald-50 to-teal-50 rounded-xl border-2 border-emerald-100 shadow-md hover:shadow-lg transition-all",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center shadow-md",children:e.jsx(L,{className:"text-white text-lg"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600 uppercase tracking-wide",children:"Member Since"}),e.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:s?.created_at?new Date(s.created_at).getFullYear():"2024"})]})]})})]})]})})}),e.jsxs(m.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"lg:col-span-2 space-y-6",children:[e.jsxs(U,{className:"shadow-lg border-0 bg-gradient-to-br from-white to-cyan-50/30",children:[e.jsx(Y,{className:"bg-gradient-to-r from-cyan-50/50 to-blue-50/50 border-b border-cyan-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(V,{className:"text-2xl bg-gradient-to-r from-cyan-600 to-blue-600 bg-clip-text text-transparent flex items-center gap-2",children:[e.jsx(N,{className:"text-cyan-600"}),"Account Information"]}),e.jsx(J,{className:"mt-1",children:"Your personal details and contact information"})]}),g?e.jsxs("div",{className:"flex gap-2",children:[e.jsx(p,{onClick:ae,size:"sm",disabled:v,className:"gap-2 bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:v?e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"w-4 h-4"}),"Save"]})}),e.jsxs(p,{onClick:se,variant:"outline",size:"sm",className:"gap-2 border-2 border-gray-300 hover:bg-gray-50",children:[e.jsx(he,{className:"w-4 h-4"}),"Cancel"]})]}):e.jsxs(p,{onClick:()=>i(!0),variant:"outline",size:"sm",className:"gap-2 !border-2 !border-cyan-400 !text-cyan-700 hover:!bg-cyan-50 hover:!border-cyan-500 !bg-white hover:!text-cyan-800 font-semibold shadow-sm",children:[e.jsx(me,{className:"w-4 h-4 text-cyan-700"}),"Edit"]})]})}),e.jsx(z,{className:"pt-6",children:g?e.jsxs("div",{children:[e.jsx(Be,{user:s,profileData:t,onDataChange:ee}),Object.keys($).length>0&&e.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-2 border-red-200 rounded-lg",children:[e.jsx("p",{className:"text-sm font-semibold text-red-800 mb-2",children:"Please fix the following errors:"}),e.jsx("ul",{className:"list-disc list-inside space-y-1",children:Object.entries($).map(([a,r])=>e.jsxs("li",{className:"text-sm text-red-700",children:[e.jsxs("strong",{children:[a.charAt(0).toUpperCase()+a.slice(1),":"]})," ",r]},a))})]})]}):e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(d,{className:"flex items-center gap-2 text-gray-700 font-semibold",children:[e.jsx(N,{className:"text-cyan-600"}),"Full Name"]}),e.jsx("div",{className:"p-3 bg-gradient-to-r from-cyan-50 to-blue-50 rounded-lg border border-cyan-100",children:e.jsx("p",{className:"text-gray-900 font-medium",children:t.name})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(d,{className:"flex items-center gap-2 text-gray-700 font-semibold",children:[e.jsx(G,{className:"text-cyan-600"}),"Email Address"]}),e.jsx("div",{className:"p-3 bg-gradient-to-r from-cyan-50 to-blue-50 rounded-lg border border-cyan-100",children:e.jsx("p",{className:"text-gray-900 font-medium",children:t.email})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(d,{className:"flex items-center gap-2 text-gray-700 font-semibold",children:[e.jsx(Q,{className:"text-cyan-600"}),"Phone Number"]}),e.jsx("div",{className:"p-3 bg-gradient-to-r from-cyan-50 to-blue-50 rounded-lg border border-cyan-100",children:e.jsx("p",{className:"text-gray-900 font-medium",children:t.phone||"Not provided"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(d,{className:"flex items-center gap-2 text-gray-700 font-semibold",children:[e.jsx(R,{className:"text-cyan-600"}),"Age"]}),e.jsx("div",{className:"p-3 bg-gradient-to-r from-cyan-50 to-blue-50 rounded-lg border border-cyan-100",children:e.jsx("p",{className:"text-gray-900 font-medium",children:t.age||"Not provided"})})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsxs(d,{className:"flex items-center gap-2 text-gray-700 font-semibold",children:[e.jsx(I,{className:"text-cyan-600"}),"Address"]}),e.jsx("div",{className:"p-3 bg-gradient-to-r from-cyan-50 to-blue-50 rounded-lg border border-cyan-100",children:e.jsx("p",{className:"text-gray-900 font-medium",children:t.address||"Not provided"})})]})]})})]}),e.jsxs(U,{className:"shadow-lg border-0 bg-gradient-to-br from-white to-cyan-50/30",children:[e.jsxs(Y,{className:"bg-gradient-to-r from-cyan-50/50 to-blue-50/50 border-b border-cyan-100",children:[e.jsxs(V,{className:"text-2xl flex items-center gap-2 bg-gradient-to-r from-cyan-600 to-blue-600 bg-clip-text text-transparent",children:[e.jsx(B,{className:"text-cyan-600"}),"My Bookings"]}),e.jsx(J,{className:"mt-1",children:"Your recent ride requests and bookings"})]}),e.jsx(z,{className:"pt-6",children:S.length>0?e.jsx("div",{className:"space-y-4",children:S.map((a,r)=>e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:r*.1},className:"border-2 border-cyan-100 rounded-xl p-5 hover:shadow-xl transition-all bg-gradient-to-br from-white to-cyan-50/30 hover:border-cyan-200",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"font-semibold text-lg text-gray-900 flex items-center gap-2",children:[e.jsx(N,{className:"text-cyan-600 text-sm"}),a.userName]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1 flex items-center gap-2",children:[e.jsx(R,{className:"text-cyan-600 text-xs"}),a.date," at ",a.time]})]}),e.jsxs(O,{variant:"outline",className:`${a.statusInfo.className} flex items-center gap-1.5 px-3 py-1.5 font-semibold`,children:[e.jsx(a.statusInfo.icon,{className:`text-xs ${a.statusInfo.iconClassName} ${a.status==="pending"?"animate-spin":""}`}),a.statusInfo.label]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(I,{className:"text-cyan-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Pickup"}),e.jsx("p",{className:"font-medium text-gray-900",children:a.pickupLocation})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(I,{className:"text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Drop-off"}),e.jsx("p",{className:"font-medium text-gray-900",children:a.dropoffLocation})]})]})]}),(a.distance||a.time)&&e.jsxs("div",{className:"grid md:grid-cols-2 gap-3 mb-3",children:[a.distance&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(ge,{className:"text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Distance"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[a.distance.toFixed(2)," km"]})]})]}),a.timeMinutes&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(q,{className:"text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Duration"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[a.timeMinutes," min"]})]})]})]}),e.jsx(W,{className:"my-3"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Status:"}),e.jsxs(O,{variant:"outline",className:`${a.statusInfo.className} flex items-center gap-1.5 px-2.5 py-1 font-medium text-xs`,children:[e.jsx(a.statusInfo.icon,{className:`text-[10px] ${a.statusInfo.iconClassName} ${a.status==="pending"?"animate-spin":""}`}),a.statusInfo.label]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Total Fare"}),e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["₱",(Number(a.price)||0).toFixed(2)]})]}),a.status!=="cancelled"&&a.status!=="completed"&&e.jsx(p,{onClick:()=>re(a.id),disabled:f===a.id,variant:"outline",size:"sm",className:"gap-2 border-2 border-red-300 text-red-700 hover:bg-red-50 hover:border-red-400 hover:text-black bg-white font-semibold shadow-sm disabled:opacity-50",children:f===a.id?e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"w-3 h-3 animate-spin"}),"Cancelling..."]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"w-3 h-3"}),"Cancel"]})})]})]})]},a.id))}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-cyan-100 to-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(B,{className:"w-12 h-12 text-cyan-500"})}),e.jsx("p",{className:"text-gray-700 text-xl font-semibold mb-2",children:"No rides yet"}),e.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Request your first ride and start exploring Siargao!"}),e.jsx(oe,{href:"/tropiride/vehicles",children:e.jsxs(p,{className:"bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 shadow-lg hover:shadow-xl transition-all px-6 py-6 text-base",children:[e.jsx(L,{className:"mr-2"}),"Book a Ride"]})})]})})]})]})]})]})}),e.jsx(Ce,{open:Z,onOpenChange:M,children:e.jsxs(Fe,{className:"sm:max-w-[425px]",children:[e.jsxs(Se,{children:[e.jsxs(Ae,{className:"flex items-center gap-2 text-red-600",children:[e.jsx(D,{className:"w-5 h-5"}),"Cancel Booking"]}),e.jsx(Ee,{className:"pt-2",children:"Are you sure you want to cancel this booking? This action cannot be undone."})]}),e.jsxs(Ie,{className:"gap-2 sm:gap-0",children:[e.jsx(p,{variant:"outline",onClick:M,disabled:f!==null,className:"border-gray-300 hover:bg-gray-50",children:"No, Keep Booking"}),e.jsx(p,{variant:"destructive",onClick:le,disabled:f!==null,className:"bg-red-600 hover:bg-red-700 text-white",children:f!==null?e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"w-4 h-4 animate-spin mr-2"}),"Cancelling..."]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),"Yes, Cancel Booking"]})})]})]})})]})}export{Ze as default};
