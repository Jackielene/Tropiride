import{j as e,H as q}from"./app-BIYmq0hf.js";import{A as H}from"./app-layout-Dl1HzMBM.js";import{C as c,a as i,b as u,c as g,d as N}from"./card-BOBmwJuF.js";import{B as p}from"./badge-qme_Iaf0.js";import{A as y,a as v,b}from"./ErrorBoundary-DLMCEoqZ.js";import{c as a}from"./createLucideIcon-DXqd3zVM.js";import{C as S}from"./circle-alert-DwyIWCii.js";/* empty css            */import"./button-CO14PRe3.js";import"./clsx-B-dksMZM.js";import"./index-Rp-gRXmK.js";import"./index-wu1b4Nm_.js";import"./index-zQdvFtwJ.js";import"./index-BJ-x83u4.js";import"./index-BbAa343j.js";import"./floating-ui.react-dom-CAeXPoKE.js";import"./index-C6sOEBQ3.js";import"./index-D329iiHL.js";import"./index-CMWG4mbA.js";import"./index-PBUBG1HU.js";import"./app-logo-icon-BVANMa4k.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],R=a("Activity",T);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],z=a("ArrowDownRight",L);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],D=a("ArrowUpRight",P);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],V=a("Calendar",I);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],W=a("Clock",F);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],C=a("MapPin",E);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],k=a("ShoppingBag",G);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],A=a("TrendingUp",Z);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],M=a("UserCheck",J);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]],O=a("UserCog",K);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],B=a("Users",Q);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Y=a("Wallet",X);function h({title:s,value:w,description:d,icon:_,trend:r,trendType:n,color:o="default"}){const m={default:"bg-card",blue:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900 border-blue-200 dark:border-blue-800",green:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950 dark:to-green-900 border-green-200 dark:border-green-800",orange:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950 dark:to-orange-900 border-orange-200 dark:border-orange-800",purple:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950 dark:to-purple-900 border-purple-200 dark:border-purple-800"},j={default:"text-muted-foreground",blue:"text-blue-600 dark:text-blue-400",green:"text-green-600 dark:text-green-400",orange:"text-orange-600 dark:text-orange-400",purple:"text-purple-600 dark:text-purple-400"};return e.jsxs(c,{className:`${m[o]} transition-all hover:shadow-lg`,children:[e.jsxs(u,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(g,{className:"text-sm font-medium text-muted-foreground",children:s}),e.jsx("div",{className:`p-2 rounded-lg bg-background/50 ${o!=="default"&&"shadow-sm"}`,children:e.jsx(_,{className:`h-5 w-5 ${j[o]}`})})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:w}),d&&e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:d}),r&&e.jsxs("div",{className:`flex items-center text-xs font-medium mt-2 ${n==="up"?"text-green-600 dark:text-green-400":n==="down"?"text-red-600 dark:text-red-400":"text-muted-foreground"}`,children:[n==="up"?e.jsx(D,{className:"h-3 w-3 mr-1"}):n==="down"?e.jsx(z,{className:"h-3 w-3 mr-1"}):e.jsx(R,{className:"h-3 w-3 mr-1"}),r]})]})]})}function ee(s){switch(s){case"admin":return"destructive";case"driver":return"secondary";case"customer":default:return"default"}}function U(s){switch(s){case"completed":return"default";case"pending":return"secondary";case"cancelled":return"destructive";default:return"outline"}}function be({stats:s={totalUsers:0,totalCustomers:0,totalDrivers:0,totalAdmins:0,totalBookings:0,pendingBookings:0,completedBookings:0,cancelledBookings:0,totalRevenue:0,monthlyRevenue:0},recentUsers:w=[],newUsers:d=[],recentBookings:_=[],allCustomerBookings:r=[],bookingsByStatus:n=[],userGrowth:o=[],topUsers:m=[]}){const j=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),x=t=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(t),f=t=>t.split(" ").map(l=>l[0]).join("").toUpperCase().slice(0,2),$=r.filter(t=>t.status==="pending").length;return r.filter(t=>t.status==="completed").length,e.jsxs(H,{children:[e.jsx(q,{title:"Tropiride Admin Dashboard"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 overflow-x-auto p-4 md:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold tracking-tight bg-gradient-to-r from-primary via-primary/90 to-primary/70 bg-clip-text text-transparent",children:"Tropiride Admin Dashboard"}),e.jsxs("p",{className:"text-muted-foreground mt-2 flex items-center gap-2",children:[e.jsx(R,{className:"h-4 w-4 text-primary"}),"Manage your ride-booking platform"]})]}),$>0&&e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-orange-50 dark:bg-orange-950 border border-orange-200 dark:border-orange-800 rounded-lg",children:[e.jsx(S,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-orange-900 dark:text-orange-100",children:[$," Pending Bookings"]}),e.jsx("p",{className:"text-xs text-orange-700 dark:text-orange-300",children:"Requires attention"})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(h,{title:"Total Users",value:s.totalUsers,description:`${s.totalCustomers} customers, ${s.totalDrivers} drivers`,icon:B,color:"blue"}),e.jsx(h,{title:"Total Bookings",value:s.totalBookings,description:`${s.pendingBookings} pending, ${s.completedBookings} completed`,icon:k,color:"purple",trend:s.totalBookings>0?`${(s.completedBookings/s.totalBookings*100).toFixed(0)}% completed`:"No bookings yet",trendType:s.totalBookings>0&&s.completedBookings>s.pendingBookings?"up":s.totalBookings>0?"down":void 0}),e.jsx(h,{title:"Total Revenue",value:x(s.totalRevenue),description:`${x(s.monthlyRevenue)} this month`,icon:Y,color:"green",trend:`${x(s.monthlyRevenue)} this month`,trendType:"up"}),e.jsx(h,{title:"Administrators",value:s.totalAdmins,description:"Administrator accounts",icon:O,color:"orange"})]}),n.length>0&&e.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:n.map(t=>e.jsx(c,{className:"hover:shadow-md transition-shadow",children:e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1 capitalize",children:t.status}),e.jsx("p",{className:"text-2xl font-bold",children:t.count})]}),e.jsx(p,{variant:U(t.status),className:"text-xs",children:t.status})]})})},t.status))}),e.jsxs(c,{className:"shadow-lg",children:[e.jsx(u,{className:"border-b bg-gradient-to-r from-background to-muted/20",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(g,{className:"flex items-center gap-3 text-xl",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(k,{className:"h-5 w-5 text-primary"})}),"All Customer Booking Requests"]}),e.jsx(N,{className:"mt-2",children:"Complete list of all booking requests from registered customers"})]}),e.jsxs(p,{variant:"outline",className:"text-lg px-4 py-2",children:[r.length," Total"]})]})}),e.jsx(i,{className:"p-0",children:r.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-muted/30 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-4 font-semibold text-sm",children:"Customer"}),e.jsx("th",{className:"text-left p-4 font-semibold text-sm",children:"Route"}),e.jsx("th",{className:"text-left p-4 font-semibold text-sm",children:"Schedule"}),e.jsx("th",{className:"text-left p-4 font-semibold text-sm",children:"Amount"}),e.jsx("th",{className:"text-left p-4 font-semibold text-sm",children:"Status"}),e.jsx("th",{className:"text-left p-4 font-semibold text-sm",children:"Requested"})]})}),e.jsx("tbody",{children:r.map((t,l)=>e.jsxs("tr",{className:`border-b hover:bg-accent/50 transition-colors ${l%2===0?"bg-background":"bg-muted/20"}`,children:[e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(y,{className:"h-10 w-10 border-2 border-background",children:[e.jsx(v,{src:t.user?.email?`https://ui-avatars.com/api/?name=${encodeURIComponent(t.user.name)}&background=0ea5e9&color=fff`:void 0}),e.jsx(b,{className:"bg-primary text-primary-foreground",children:f(t.user?.name||"Unknown")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:t.user?.name||"Unknown"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.user?.email})]})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-start gap-2 max-w-xs",children:[e.jsx(C,{className:"h-3 w-3 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm truncate",children:t.pickup_location})]}),e.jsxs("div",{className:"flex items-start gap-2 max-w-xs",children:[e.jsx(C,{className:"h-3 w-3 text-red-600 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm truncate text-muted-foreground",children:t.dropoff_location})]}),t.distance_km&&e.jsxs("p",{className:"text-xs text-muted-foreground ml-5",children:[t.distance_km," km"]})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"text-sm space-y-2",children:[t.pickup_date&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:new Date(t.pickup_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),t.pickup_time&&e.jsx("p",{className:"text-xs text-muted-foreground",children:t.pickup_time})]})]}),t.return_date&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground border-t pt-2 mt-2",children:[e.jsx(D,{className:"h-3 w-3"}),e.jsxs("div",{children:["Return: ",new Date(t.return_date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),t.return_time&&` ${t.return_time}`]})]})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"space-y-1",children:[(t.total_amount||t.estimated_fare)&&e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"font-semibold",children:x(t.total_amount||t.estimated_fare||0)})}),t.passengers&&e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(B,{className:"h-3 w-3"}),t.passengers," passenger",t.passengers!==1?"s":""]})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{variant:U(t.status),className:"text-xs",children:t.status}),t.payment_status&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:`h-2 w-2 rounded-full ${t.payment_status==="paid"?"bg-green-500":t.payment_status==="pending"?"bg-yellow-500":"bg-red-500"}`}),e.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:t.payment_status})]})]})}),e.jsx("td",{className:"p-4 text-sm text-muted-foreground",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"h-4 w-4"}),j(t.created_at)]})})]},t.id))})]})}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx(k,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-muted-foreground font-medium",children:"No customer booking requests found"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Booking requests will appear here once customers create them"})]})})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(c,{children:[e.jsxs(u,{className:"border-b",children:[e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:e.jsx(M,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),"New Users (Last 7 Days)"]}),e.jsx(N,{children:"Recently registered users and their roles"})]}),e.jsx(i,{className:"p-4",children:d.length>0?e.jsx("div",{className:"space-y-3",children:d.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-accent/50 transition-all hover:shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(y,{className:"h-10 w-10 border-2",children:[e.jsx(v,{src:t.avatar_url,alt:t.name}),e.jsx(b,{children:f(t.name)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:t.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.email})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx(p,{variant:ee(t.role),children:t.role})})]},t.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(M,{className:"h-10 w-10 text-muted-foreground mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No new users in the last 7 days"})]})})]}),e.jsxs(c,{children:[e.jsxs(u,{className:"border-b",children:[e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900 rounded-lg",children:e.jsx(A,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),"Top Users"]}),e.jsx(N,{children:"Most active users by number of bookings"})]}),e.jsx(i,{className:"p-4",children:m.length>0?e.jsx("div",{className:"space-y-3",children:m.map((t,l)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-accent/50 transition-all hover:shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full font-bold text-sm ${l===0?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300":l===1?"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300":l===2?"bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300":"bg-primary/10 text-primary"}`,children:l+1}),e.jsxs(y,{className:"h-10 w-10 border-2",children:[e.jsx(v,{src:t.avatar_url,alt:t.name}),e.jsx(b,{children:f(t.name)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:t.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.email})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-lg",children:t.bookings_count}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"bookings"})]})})]},t.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(A,{className:"h-10 w-10 text-muted-foreground mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No booking data available"})]})})]})]})]})]})}export{be as default};
